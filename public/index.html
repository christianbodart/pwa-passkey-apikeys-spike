&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Iframe WebAuthn Test&lt;/title&gt;
  &lt;style&gt;
    body { font-family: system-ui; padding: 2rem; margin: 0; }
    iframe { 
      width: 100%; 
      height: 400px; 
      border: 2px solid #ccc; 
      border-radius: 8px; 
      margin: 1rem 0;
    }
    pre { background: #f5f5f5; padding: 1rem; border-radius: 4px; }
    .status { margin: 1rem 0; padding: 1rem; border-radius: 4px; }
    .green { background: #d4edda; border-left: 4px solid #28a745; }
    .yellow { background: #fff3cd; border-left: 4px solid #ffc107; }
    .red { background: #f8d7da; border-left: 4px solid #dc3545; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;ðŸ§ª WebAuthn Iframe Fallback Test&lt;/h1&gt;
  
  &lt;h2&gt;Parent Page (Main)&lt;/h2&gt;
  &lt;div id="parent-status" class="status"&gt;Loading...&lt;/div&gt;
  
  &lt;h2&gt;Iframe (Auth Target)&lt;/h2&gt;
  &lt;iframe 
    id="auth-iframe" 
    src="./iframe-test.html"
    sandbox="allow-scripts allow-same-origin allow-top-navigation"
    loading="lazy"
  &gt;&lt;/iframe&gt;
  
  &lt;h2&gt;Communication Log&lt;/h2&gt;
  &lt;pre id="messages"&gt;No messages yet&lt;/pre&gt;
  
  &lt;script&gt;
    // Parent page capability detection
    async function detectCapabilities() {
      const caps = {
        webauthn: !!window.PublicKeyCredential,
        subtleCrypto: !!window.crypto?.subtle,
        postMessage: !!window.postMessage,
        visibilityApi: !!document.visibilityState,
        timestamp: Date.now()
      };
      
      const statusEl = document.getElementById('parent-status');
      const className = caps.webauthn ? 'green' : 'red';
      statusEl.className = `status ${className}`;
      statusEl.innerHTML = `
        &lt;h3&gt;Parent Capabilities&lt;/h3&gt;
        &lt;pre&gt;${JSON.stringify(caps, null, 2)}&lt;/pre&gt;
        &lt;p&gt;&lt;strong&gt;Status: ${caps.webauthn ? 'âœ… WebAuthn Ready' : 'âŒ Fallback Needed'}&lt;/strong&gt;&lt;/p&gt;
      `;
      
      return caps;
    }
    
    // Message handling
    window.addEventListener('message', (event) => {
      const logEl = document.getElementById('messages');
      const messages = JSON.parse(logEl.textContent === 'No messages yet' ? '[]' : logEl.textContent);
      messages.unshift({
        time: new Date().toISOString(),
        source: event.origin,
        data: event.data
      });
      logEl.textContent = JSON.stringify(messages.slice(0, 10), null, 2);
    });
    
    // Initialize
    detectCapabilities();
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;